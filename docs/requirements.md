
# Gitローカルブランチ一括削除CLI 要件

## 概要

リモートリポジトリで既に削除されたブランチを検出し、対応するローカルブランチを一括で安全に削除するためのコマンドラインインターフェース（CLI）ツール。

## 機能要件

1.  **リモート追跡ブランチ情報の取得:**
    *   `git remote prune origin --dry-run` または `git fetch --prune` を利用して、リモートで削除されたブランチの情報を取得する。

2.  **ローカルブランチの一覧取得:**
    *   `git branch` コマンド等を利用して、ローカルに存在するブランチの一覧を取得する。

3.  **削除対象ブランチの特定:**
    *   リモートで削除済みであり、かつローカルに存在するブランチを特定する。
    *   **除外機能:** 特定のブランチ（例: `main`, `master`, `develop`）は削除対象から常に除外する。除外リストは設定可能であることが望ましい。

4.  **ユーザーへの確認:**
    *   削除対象となるローカルブランチの一覧をユーザーに提示する。
    *   処理を続行するかどうかの確認を求める（y/n）。

5.  **ローカルブランチの削除:**
    *   ユーザーが承認した場合のみ、特定したローカルブランチを `git branch -d` または `git branch -D` で削除する。
    *   安全のため、デフォルトはマージ済みブランチのみを削除する `-d` を使用する。強制削除の `-D` はオプションとして提供する。

6.  **実行結果の表示:**
    *   どのブランチが削除されたか、またはスキップされたかの結果を分かりやすく表示する。

## 非機能要件

1.  **設定:**
    *   （任意）設定ファイル（例: `.git-branch-auto-remove.yml`）で、除外ブランチなどを定義できるようにする。

2.  **コマンドラインインターフェース:**
    *   Go言語の `flag` パッケージや、より高機能な `Cobra` ライブラリなどを利用して、分かりやすいコマンドとオプションを提供する。
    *   例:
        *   `git-branch-auto-remove`: ドライラン（削除対象の表示のみ）を実行。
        *   `git-branch-auto-remove --force`: 実際に削除処理を実行。
        *   `git-branch-auto-remove -D`: マージされていないブランチも強制的に削除。
        *   `git-branch-auto-remove --exclude "feature/*"`: 特定のパターンに一致するブランチを一時的に除外。

3.  **クロスプラットフォーム:**
    *   macOS, Linux, Windowsで動作すること。

4.  **エラーハンドリング:**
    *   Gitコマンドの実行エラーなどを適切にハンドリングし、ユーザーに分かりやすいエラーメッセージを表示する。
    *   Gitリポジトリでないディレクトリで実行された場合にエラーを表示する。
