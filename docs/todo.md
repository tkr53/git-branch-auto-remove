# 開発TODOリスト

## フェーズ1: 基本機能の実装

- [x] Goプロジェクトの初期化 (`go mod init`)
- [x] Git操作を行うためのラッパー関数を作成する (`internal/git` パッケージ)
    - [x] Gitコマンドを実行し、出力を返す基本的な関数
    - [x] リモートで削除されたブランチのリストを取得する関数 (`git fetch --prune`)
    - [x] ローカルブランチのリストを取得する関数 (`git branch`)
    - [x] ブランチを削除する関数 (`git branch -d`)
- [x] メインロジックの実装 (`main.go`)
    - [x] リモートで削除済みのブランチとローカルブランチを比較し、削除対象を特定する
    - [x] `main`, `master`, `develop` などの保護ブランチを削除対象から除外する
    - [x] 削除対象のブランチを標準出力に表示する

## フェーズ2: CLI機能の強化

- [x] コマンドライン引数の処理
    - [x] `Cobra` ライブラリを導入する
    - [x] ドライランモードを実装する (デフォルトの動作)
    - [x] 実際に削除を実行するための `--force` フラグを追加する
    - [x] 未マージのブランチを強制削除するための `-D` フラグを追加する
- [x] ユーザーインタラクションの追加
    - [x] 削除を実行する前に、ユーザーに確認プロンプト (y/n) を表示する
- [x] 出力フォーマットの改善
    - [x] 削除されるブランチ、スキップされたブランチを色分けして表示する (例: `fatih/color`)

## フェーズ3: 設定と堅牢性の向上

- [x] 設定ファイル機能の追加
    - [x] プロジェクトルートの `.gbar.yml` から設定を読み込む
    - [x] 設定ファイルで保護するブランチのパターンをカスタマイズできるようにする
- [x] エラーハンドリングの強化
    - [x] Gitリポジリでない場所で実行された場合のエラー処理
    - [x] Gitコマンドの失敗を適切に補足し、メッセージを表示する

## フェーズ4: テストとドキュメント

- [x] ユニットテストの作成
    - [x] Git操作のラッパー関数に対するモックテスト
    - [x] 削除対象ブランチを特定するロジックのテスト
- [x] `README.md` の作成
    - [x] ツールの目的、インストール方法、使い方を記述する
- [x] `go install` でのインストール方法を確認する

## フェーズ5: リリース

- [ ] GitHubリリースの作成
- [ ] クロスコンパイルして、各OS向けのバイナリを提供する (GoReleaserの利用を検討)